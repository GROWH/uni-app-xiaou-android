(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pagesa/send/send"],{"372c":function(e,t,n){},"38dc":function(e,t,n){"use strict";(function(e){n("d87f");a(n("66fd"));var t=a(n("4a5c"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("c11b")["createPage"])},"4a5c":function(e,t,n){"use strict";n.r(t);var a=n("5211"),c=n("e154");for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);n("abce");var u,r=n("f0c5"),i=Object(r["a"])(c["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);t["default"]=i.exports},5211:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}));var c=function(){var e=this,t=e.$createElement;e._self._c},o=[]},"6b57":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("a34a")),c=o(n("c11e"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a,c,o,u){try{var r=e[o](u),i=r.value}catch(s){return void n(s)}r.done?t(i):Promise.resolve(i).then(a,c)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(a,c){var o=e.apply(t,n);function r(e){u(o,a,c,r,i,"next",e)}function i(e){u(o,a,c,r,i,"throw",e)}r(void 0)}))}}var i={data:function(){return{send:{msg:"获取验证码",status:0},phone:{value:"",check:!1},code:{value:"",check:!1}}},onLoad:function(){},computed:{isLogin:function(){return this.phone.check&&this.code.check}},methods:{_login:function(){var t=r(a.default.mark((function t(){var n;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.default.login({phone:this.phone.value});case 2:n=t.sent,200==n.data.code?(e.setStorageSync("token",n.data.list.token),e.setStorageSync("uid",n.data.list.uid),e.setStorageSync("phone",n.data.list.phone),e.navigateBack({delta:1})):e.showToast({title:"网络开小差了",icon:"none"});case 4:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),_inputCode:function(t){if(this.code.value=t.detail.value,""!=this.code.value){var n=e.getStorageSync("code")||"";this.code.value==n?this.code.check=!0:this.code.check}else this.code.check},_inputPhone:function(e){this.phone.value=e.detail.value;var t=/^1[3456789]\d{9}$/;t.test(this.phone.value),this.phone.check=!0},_sendMsg:function(){var t=r(a.default.mark((function t(){var n,o,u,r=this;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=this.send.status){t.next=2;break}return t.abrupt("return");case 2:if(!this.phone.check){t.next=10;break}return this.send.status=1,t.next=6,c.default.sendMsg({phone:this.phone.value});case 6:n=t.sent,200==n.data.code?(e.setStorageSync("code",n.data.list.code),o=60,u=setInterval((function(){if(o<=1)return clearInterval(u),r.send.msg="获取验证码",o=60,r.send.status=0,void e.removeStorageSync("code");o--,r.send.msg="重新发送("+o+")"}),1e3)):e.showToast({title:"网络开小差了",icon:"none"}),t.next=11;break;case 10:e.showToast({title:"手机格式不正确",icon:"none"});case 11:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()}};t.default=i}).call(this,n("c11b")["default"])},abce:function(e,t,n){"use strict";var a=n("372c"),c=n.n(a);c.a},e154:function(e,t,n){"use strict";n.r(t);var a=n("6b57"),c=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=c.a}},[["38dc","common/runtime","common/vendor"]]]);